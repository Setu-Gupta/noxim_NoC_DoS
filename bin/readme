Traffic table format
src	dst	pir	por	t_on	t_off	t_period	payload_type	payload_data

Note: src and dst are compulsary
default values:
	pir:	0.01
	por: 	0.01
	t_on:	0
	t_off:	reset_time + simulation_time
	t_period:	reset_time + simulation_time
	payload_type:	0
	payload_data:	-1 (Only valid if payload_type is write)

refer to conventions to see payload_type values

To send a single packet at cycle c, set t_on = c-1, t_off = c+1, t_period = reset_time + simulation_time
The behavior repeats after t_period as packets are sent by first taking current_cycle%t_period.

----------------------------------------------------------------------------------------------------

Test files

2_packets	: sends exaclty two packets
single_packet	: sends exactly one packet
memory		: performs a mix of reads and writes
repeated_packets: repeatedly sends default packets between two noded
repeated_reads	: repeatedly sends read requests along with one write request. Initial read requests fail but subsequent requests succeed.
attack		: This set contains 3 files
			only_attack	: This just initiates a cycle of packets between nodes 0 and 3
			only_com	: This models general communication between two nodes
			attack_and_com	: This models general communication in presence of an ongoing attack
attack2		: This set contains files
			6accelkmp.txt0_1.txt			: This models normal communication in network
			6accelkmp.txt0_1.txt_with_attack	: This models attack along side normal communication.
traffic_table	: This is a model set of files for various scenarios.

-----------------------------------------------------------------------------------------------------

Changelog

Utils.h
	Added display for flit payload in template

DataStructs.h
	Added type field in Payload
	Payload now has type and data. Refer to GloablParams.h for valid types.
	Modified == operator for Payload
	Added Payload to Flit
	Added payload to Packet
	Modfied constructor and make() for struct Packet to include Payload

GlobalParams.h
	Added #define for Payload types. Lines [93, 97]

GlobalTrafficTable.h
	Added Payload field to struct Communication
	Modified signature of getCumulativePirPor to include Payload

GlobalTrafficTable.cpp
	Modified load() method to incorporate additional payload related fields. Lines [37, 41] and [86, 99]
	Modfied signature of getCumulativePirPor() to match the .h file
	Modified lines [126, 128] in getCumulativePirPor() to store Payload also along with destination and cpirnpor


ProcessingElement.h
	Added 2 more registers to PE: dataAvailable and data.
	dataAvailble is a flag initially set to false. After a write, it is flipped to true.
	data is a integer to store the data in PE. It is initially set to -1. It is updated every time a write is made.
	Added declaration of 6 new functions. Lines [65, 69]. Refer to ProcessingElement.cpp for details.

ProcessingElement.cpp
	modified rxprocess() line 24 to initialize dataAvailable to false during reset
	modified rxprocess() line 28 to call receive() to handle requests
	modified txprocess() line 41 to initialize data to -1 during reset phase
	modifed nextFlit() to add Payload from packet to flit of the same packet and to update LOG for malicious packet
	modified data type of dst_prob in canShot() to include Payload field. Line 153
	modifed canShot() lines [161, 164] to include support for Payload
	Implemented receive()
		receive only works on the last flit in packet i.e. TAIL_FLIT.
		Depending on the type in the payload of flit, one of the following methods are called. These are described below.
	Implemented handleDefault()
		handleDefault() is used when the payload type is deafault or not reserved. Nothing special needs to be done.
		These packets represent normal communication packets. No memory operations are performed.
		Information is about the flit is added to LOG.
	Implemented handleWrite()
		Sets dataAvailable to true.
		Updates data and entry is added to LOG.
	Implemented handleReadReq()
		If dataAvailable is false, request is ignored
		Else a new packet is created with Payload having data as data value of PE. This packet is then pushed to packet_queue.
		LOG is updated accordingly
	Implemented handleReadReply()
		LOG is upadted to specify the data received
	Implemented handleAttack()
		This method is called when a malious packet is received by the PE.
		This generates a continous cycle between the source of the packet and local PE.
		Local PE sends a new malicious packet to source and the cycle continues.

Stats.h
	Added following declaration for non malicious packet statistics
	Added getAverageDelayNormal() declaration
	Added getMaxDelayNormal() declaration
	Added getReceivedPacketsNormal() declaration

Stats.cpp
	Added implementation for methods used for non malicious packet statistics
	Added getAverageDelayNormal() implementation
	Added getMaxDelayNormal() implementation
	Added getReceivedPacketsNormal() implementation

GlobalStats.h
	Added following declaration for non malicious packet statistics
	Added getAverageDelayNormal() declaration
	Added getMaxDelayNormal() declaration
	Added getMaxDelayNormal(int) declaration
	

GlobalStats.cpp
	Added implementation for methods used for non malicious packet statistics
	Added getAverageDelayNormal() implementation
	Added getMaxDelayNormal() implementation
	Added getMaxDelayNormal(int) implementation
	Modified showStats() to show non malicious stats as well
	
-----------------------------------------------------------------------------------------------------

Description of attack:
	The attack is continous back and forth of packets between two PEs.
	The initial packet is sent from src to dst as specified by the traffic table entry.
	The following reply and requests are made automatically in code.
	This generates a constant back and forth. The attack proceeds as follows.
		1. PE1 sends packet to PE2.
		2. This triggers PE2 to reply back PE1 with another malicious packet
		3. This reply packet then triggers PE1 to again send a packet to PE2.
		4. Attack follows from step 2
	This genrates lots of packets packets in the network. These packets compete with non malicious packets for resources.
	As a result the non malicious packets face delays.

-----------------------------------------------------------------------------------------------------

To run:

Go /bin
./noxim -topology MESH -dimx 2 -dimy 2 -traffic table <insert table here> -config ./../personal_configs/my_config.yaml  > log_test
